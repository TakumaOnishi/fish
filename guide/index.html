<!DOCTYPE html>
<html>

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/ fb# website: http://ogp.me/ns/ website#">
   <meta charset="UTF-8">
   <title>おさかなユーザーガイド</title>
   <meta name="description" content="おさかなキーボードを使い始めよう！">
   <meta property="og:url" content="https://o24.studio/fish/guide"/>
   <meta property="og:type" content="website"/>
   <meta property="og:title" content="おさかなユーザーガイド"/>
   <meta property="og:site_name" content="おさかなユーザーガイド"/>
   <meta property="og:description" content="おさかなキーボードを使い始めよう！"/>
   <meta property="og:image" content="https://o24.studio/fish/ogp.png"/>
   <meta name="twitter:card" content="summary"/>
   <meta name="viewport" content="width=device-width,initial-scale=1"/>
   <link rel="icon" type="image/png" href="../favicon.png">
   <link rel="stylesheet" href="style.css?1">
   <script src="script.js?1"></script>
</head>

<body>
   <h1>ユーザーガイド</h1>
   <a href="../index.html">トップページ</a>
   <a href="../editor/index.html">キーマップ書き換えツール</a>
   <div id="example">
      <h2>電源を入れる</h2>
      <p>〈画像〉<br>
      二匹を向かい合うように置き、それぞれの下アゴの陰にある灰色の電源スイッチを上に切り替えます。<br>
      〈画像〉<br>
      接続したいPCなどでBluetooth管理画面を開き、「Fish Keyboard」が表示されたら接続します。
      適当なキーを押し、PCに入力が通じているのを確認してください。</p>

      <p>ℹ️接続できないときは
         以下のような原因が考えられます。
         ・バッテリーの残量が少ない場合
         次節の手順で各機を充電してください。
         ・ファームウェアに問題がある場合
         次々節の手順で両機のファームウェアを修正・更新してください。
         ・接続機器の登録数がいっぱいの場合
         &bt BT_CLEARが割り当てられたキーを押下し、不要なペアリングを解放してください。
         ・PC側に問題がある場合
         他のBluetooth機器にも接続できないことを確認し、調査・対処してください。
         ・いずれの可能性も排除された場合
         接触不良かもしれません。状況や試したことまとめてDiscordに投稿してください。</p>


      <h2>充電する</h2>

      <p>〈画像〉
      USB Type-C端子のケーブル（別売り）を用意し、電源スイッチを入れた状態のおさかなをPCと有線接続してください。
      〈画像〉
      充電中は、USB差し込み口付近に黄緑色のLEDが点ります。

      USB接続と電源スイッチのオン／オフによって、おさかなは以下のように動作します。
      ・USB接続がなく、電源スイッチがオフの場合
      動作しません。長時間使用しないときはこの状態にしてください。
      ・USB接続がなく、電源スイッチがオンの場合
      バッテリー電源で動作し、Bluetoothで入力します。通常はこの状態で使用してください。
      ・USB接続があり、電源スイッチがオフの場合
      PC電源で動作します。USBを通して入力しますが、&out類のキーで切り替えることもできます。充電はされません。
      ・USB接続があり、電源スイッチがオンの場合
      バッテリーを充電しながら動作します。USBを通して入力しますが、&out類のキーで切り替えることもできます。
      なお、子機はいかなる場合でも親機にBluetoothで入力を発信します。</p>

      <p>ℹ️親機と子機
      〈画像〉
      おさかなキーボードには親機と子機があり、まず子機が親機に入力を伝え、それを合わせた入力を親機がPCに伝えます。
      このため、親機のみ電源を入れて使うことはできますが、逆はできません。左手デヴァイスとしての使用に配慮し、出荷時は左手側を親機に設定しています。
      また、同じ理由から、子機の充電は親機の４倍ほど長持ちします。
      〈画像〉
      一部のPCから確認できる充電残量は親機のもので、子機の充電残量を確認する方法はありません。勘で充電してください。</p>


      <h2>キーマップを変える</h2>
      <p>購入時のキーマップは以下のようになっています。

      これは、以下の手順で自由に書き換えることができます。
      1. Githubのアカウントを用意する。
      2. <a href="https://github.com/TakumaOnishi/zmk-config-fish" target="_blank">リポジトリ</a>をフォークする。
      3. <a href="../editor/index.html">キーマップ書き換えツール</a>でfish.keymapを生成するか、テキストエディタで直接編集する
      4. リポジトリのファイルと差し替えて、actionsからfirmwareをダウンロードする。
      5. おさかなの両機の電源を切った状態で、片方だけをPCとUSB接続し、リセットボタンを素早く２回押す。
      6. XIAOが外部ストレージとして表示されるので、左手機ならleft.uf2、右手機ならright.uf2をドラッグ＆ドロップする。
      7. 読み込まれたら自動で消えるので、反対側も同様に行う。
      </p>
   </div>
   
</body>

</html>